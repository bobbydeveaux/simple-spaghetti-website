{
  "prTitle": "feat: implement backend candidate management API for PTA voting system",
  "prBody": "## Summary\n\nImplemented comprehensive backend candidate management API for the PTA voting system Sprint 2. This feature provides admin-only endpoints for full CRUD operations on candidates, including creation, reading, updating, and deletion.\n\n### Key Changes\n\n- **Created `api/voting/admin_routes.py`**: New Flask blueprint with 6 admin endpoints for candidate management\n  - `GET /api/voting/admin/candidates` - List all candidates\n  - `POST /api/voting/admin/candidates` - Create new candidate\n  - `GET /api/voting/admin/candidates/<id>` - Get specific candidate\n  - `PUT /api/voting/admin/candidates/<id>` - Update existing candidate\n  - `DELETE /api/voting/admin/candidates/<id>` - Delete candidate\n  - `GET /api/voting/admin/candidates/by-position/<position>` - Get candidates by position\n\n- **Enhanced `api/voting/data_store.py`**: Added missing CRUD methods\n  - `update_candidate()` - Thread-safe candidate update with validation\n  - `delete_candidate()` - Thread-safe candidate deletion\n\n- **Updated `api/app.py`**: Registered the new admin blueprint\n\n### Features Implemented\n\n✅ **Admin Authentication**: All endpoints require admin privileges using `@admin_required` decorator\n✅ **Comprehensive Validation**: Input validation for all candidate fields (name, position, bio, photo_url)\n✅ **Error Handling**: Proper HTTP status codes and detailed error messages\n✅ **Thread Safety**: All data operations use existing lock mechanisms\n✅ **Logging**: Comprehensive error logging for debugging and audit\n✅ **API Consistency**: Follows existing codebase patterns and conventions\n\n### Acceptance Criteria Met\n\n- ✅ Admin can create candidates with name, position, bio, and photo URL\n- ✅ Admin can update and delete existing candidates\n- ✅ API returns proper validation errors for invalid data\n- ✅ Endpoints require admin authentication\n\n### Technical Details\n\n- **Framework**: Flask with Blueprint pattern\n- **Authentication**: Leverages existing admin middleware\n- **Data Storage**: Thread-safe in-memory store with locking\n- **Validation**: Custom validation function with comprehensive field checks\n- **Error Handling**: Graceful error responses with proper HTTP status codes\n\n### API Endpoints\n\n| Method | Endpoint | Description | Auth Required |\n|--------|----------|-------------|---------------|\n| GET | `/api/voting/admin/candidates` | List all candidates | Admin |\n| POST | `/api/voting/admin/candidates` | Create new candidate | Admin |\n| GET | `/api/voting/admin/candidates/<id>` | Get specific candidate | Admin |\n| PUT | `/api/voting/admin/candidates/<id>` | Update candidate | Admin |\n| DELETE | `/api/voting/admin/candidates/<id>` | Delete candidate | Admin |\n| GET | `/api/voting/admin/candidates/by-position/<position>` | List candidates by position | Admin |\n\n### Request/Response Examples\n\n**Create Candidate:**\n```json\nPOST /api/voting/admin/candidates\n{\n  \"name\": \"John Smith\",\n  \"position\": \"President\",\n  \"bio\": \"Experienced PTA leader with 5 years of volunteer work\",\n  \"photo_url\": \"https://example.com/photos/john.jpg\"\n}\n```\n\n**Response:**\n```json\n{\n  \"candidate\": {\n    \"candidate_id\": \"candidate_abc123\",\n    \"name\": \"John Smith\",\n    \"position\": \"President\",\n    \"bio\": \"Experienced PTA leader with 5 years of volunteer work\",\n    \"photo_url\": \"https://example.com/photos/john.jpg\",\n    \"created_at\": \"2026-02-11T19:45:00\"\n  },\n  \"message\": \"Candidate created successfully\"\n}\n```\n\nCloses #116",
  "testsPass": true,
  "filesChanged": [
    "api/voting/admin_routes.py",
    "api/voting/data_store.py",
    "api/app.py"
  ],
  "completedTasks": [1]
}